!function(a,b,c,d){"use strict";var e=function(d,e){var g=a.extend({},a.fn.freeze.tmfOpts,e);d=a(d);var i=function(){var a=b.createElement("span"),c=a.style;return c.cssText="position:sticky;position:-webkit-sticky;position:-ms-sticky;",c.position.indexOf("sticky")!==-1}();g.useCSS=!!d.is("[data-use-css]")||g.useCSS,g.extraSpaceTop=d.data("extra-space-top")?d.data("extra-space-top"):"auto"!=d.css("top")?parseInt(d.css("top"),10):g.extraSpaceTop,g.extraSpaceBottom=d.data("extra-space-bottom")?d.data("extra-space-bottom"):g.extraSpaceBottom,g.pushSection=d.data("push-section")?d.data("push-section"):g.pushSection,g.threshold=d.data("threshold")?d.data("threshold"):g.threshold;var j=(a(c).scrollTop(),d.offset().top),k=!1;i&&g.useCSS?d.css({top:g.extraSpaceTop+"px"}):(h(d,g),d.data("startup",!0).data("orignDistance",j).css({width:"100%",display:"flex",flexDirection:"column"}),a(c).on("scroll resize",function(){f(d),d.data("startup")||h(d,g),a(c).width()>=g.breakpoint&&k?(k=!1,j=d.offset().top,d.data("orignDistance",j)):a(c).width()<g.breakpoint&&(k=!0)}),d.wrapAll("<div class='freeze-wrapper' />"),f(d))},f=function(a){var b=a.outerHeight(!0);a.parent().css({height:b+"px"})},g=function(b,d){var e=a(c).width();if(e>=960){var f=a(c).scrollTop(),g=b.data("orignDistance"),h=b.outerHeight(!0),i=Math.abs(a(d.pushSection).offset().top-(g+h)+d.extraSpaceTop),j=g-f-d.extraSpaceTop,k=g+(a(d.pushSection).offset().top-(g+h))-f-d.extraSpaceTop;j<=0||j<=0&&b.data("startup")?(b.addClass("sticky").css({maxWidth:a(b).parent().width()+"px",position:"fixed",top:d.extraSpaceTop+"px",zIndex:5}),k<=0+d.extraSpaceBottom&&b.removeClass("sticky").css({top:i-d.extraSpaceTop-d.extraSpaceBottom+"px",position:"relative",zIndex:5})):(f<=b.offset().top-d.extraSpaceTop&&b.addClass("sticky").css({maxWidth:a(b).parent().width()+"px",position:"fixed",top:d.extraSpaceTop+"px",zIndex:5}),b.offset().top<=g&&b.removeClass("sticky").css({maxWidth:"",position:"",top:"",zIndex:""}))}else b.removeClass("sticky").css({maxWidth:"",position:"",top:"",zIndex:""});b.data("startup",!1)},h=function(a,b){a.data("scrolling")||(requestAnimationFrame(function(){i(a,b)}),a.data("scrolling",!0))},i=function(a,b){j(a,b)||a.data("startup")?a.removeClass("out-of-view"):a.addClass("out-of-view"),g(a,b),a.data("scrolling",!1)},j=function(b,d){var e=a(c).scrollTop(),f=e+a(c).height(),g=b.data("threshold")?parseFloat(b.data("threshold")):d.threshold,h=b.data("ty")?parseFloat(b.data("ty")):0,i=(b.offset().top,b.offset().top-h),j=i+b.outerHeight()-b.outerHeight()*g,k=i+b.outerHeight()*g;return f>=k&&e<=j},k=!1;(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(k=!0),function(){for(var a=0,b=["ms","moz","webkit","o"],d=0;d<b.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[b[d]+"RequestAnimationFrame"],c.cancelAnimationFrame=c[b[d]+"CancelAnimationFrame"]||c[b[d]+"CancelRequestAnimationFrame"];c.requestAnimationFrame||(c.requestAnimationFrame=function(b,d){var e=(new Date).getTime(),f=Math.max(0,16-(e-a)),g=c.setTimeout(function(){b(e+f)},f);return a=e+f,g}),c.cancelAnimationFrame||(c.cancelAnimationFrame=function(a){clearTimeout(a)})}(),a.fn.freeze=function(b){return this.each(function(){if(k)return!1;var c=a(this);if(!c.data("freeze")){var d=new e(this,b);c.data("freeze",d)}})},a.fn.freeze.tmfOpts={useCSS:!1,extraSpaceTop:0,extraSpaceBottom:0,pushSection:"footer",threshold:1,breakpoint:960}}(jQuery,document,window);